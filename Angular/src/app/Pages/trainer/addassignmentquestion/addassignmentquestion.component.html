<app-navbar></app-navbar>
<!-- add-assignment.component.html -->
<!-- Success Alert -->
<div *ngIf="showSuccess" class="alert alert-success alert-dismissible fade show" id="alertSuccessMessage">
    <strong>{{ alertTitle }}</strong> <span>{{ alertMessage }}</span>
</div>

<!-- Error Alert -->
<div *ngIf="showError" class="alert alert-danger alert-dismissible fade show" id="alertMessage">
    <strong>{{ alertTitle }}</strong> <span>{{ alertMessage }}</span>
</div>

<div class="form-container">
    <h2>Add Assignment Question</h2>
  
    <form (ngSubmit)="onSubmit()">
      <!-- Course Selection -->
   
<label for="course">Select Course</label>
<select id="course" [(ngModel)]="assignment.courseId" name="courseId" required (change)="loadModules()">
  <option *ngFor="let course of courses" [value]="course.id">{{ course.title }}</option>
</select>

<!-- Module or Entire Course Selection -->
<div class="module-selection">
  <label>
    <input type="radio" [(ngModel)]="assignment.applyToAllModules" name="moduleSelection" [value]="false" />
    Apply to Specific Module
  </label>

  <!-- If Specific Modules are selected, show the module options -->
  <!-- If Specific Modules are selected, show the module options -->
<div *ngIf="!assignment.applyToAllModules">
    <label for="module">Select Modules</label>
    <select id="module" [(ngModel)]="assignment.moduleId" name="moduleIds" multiple required>
      <!-- Iterate over modules array and display options -->
      <option *ngFor="let module of modules" [value]="module.id">{{ module.title }}</option>
    </select>
  </div>
  

<!-- Assignment Details -->
<label for="title">Title</label>
<input type="text" id="title" [(ngModel)]="assignment.title" name="title" required />

<label for="description">Description</label>
<textarea id="description" [(ngModel)]="assignment.description" name="description" required></textarea>

<label for="dueDate">Due Date</label>
<input type="date" id="dueDate" [(ngModel)]="assignment.dueDate" name="dueDate" required />

<label for="totalMarks">Total Marks</label>
<input type="number" id="totalMarks" [(ngModel)]="assignment.totalMarks" name="totalMarks" required />

<!-- Submit Button -->
<button type="submit" [disabled]="!assignment">Add Assignment</button>

